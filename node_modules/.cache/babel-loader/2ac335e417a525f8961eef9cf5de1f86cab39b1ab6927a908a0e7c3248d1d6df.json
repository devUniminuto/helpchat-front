{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { login } from \"@/api/\";\nexport default {\n  data: () => ({\n    loading: false,\n    valid: true,\n    selection: 1,\n    user: null,\n    password: null,\n    rulesRequired: [v => !!v || \"Este campo es obligatorio\"],\n    msgError: \"\",\n    alertError: false\n  }),\n  methods: {\n    recuperarContrasena() {\n      this.$router.push({\n        path: '/restorePassword'\n      }).catch(() => {});\n    },\n    login() {\n      const validateForm = this.$refs.form.validate();\n      if (validateForm) {\n        this.loading = true;\n        this.alertError = false;\n        login({\n          email: this.user,\n          password: this.password\n        }).then(function (response) {\n          localStorage.setItem(\"userTkn\", response.data.accessToken);\n          localStorage.setItem(\"rol\", response.data.roles);\n          this.$router.push({\n            path: '/'\n          }).catch(() => {});\n          window.location.reload();\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n          this.loading = false;\n          this.alertError = true;\n          this.msgError = \"Error al iniciar sesión, credenciales inválidas.\";\n        }.bind(this));\n      }\n    },\n    show_alert_and_fade() {\n      this.alertError = !this.alertError;\n    }\n  }\n};","map":{"version":3,"mappings":";AA2FA;AAEA;EACAA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EAEAC;IACAC;MACA;QAAAC;MAAA;IACA;IACAC;MACA;MACA;QACA;QACA;QACAA;UACAC;UACAR;QACA,GACAS,KACA;UACAC;UACAA;UACA;YAAAJ;UAAA;UACAK;QACA,aACA,CACAC,MACA;UACAC;UACA;UACA;UACA,gBACA;QACA,aACA;MACA;IACA;IAEAC;MACA;IACA;EACA;AACA","names":["data","loading","valid","selection","user","password","rulesRequired","msgError","alertError","methods","recuperarContrasena","path","login","email","then","localStorage","window","catch","console","show_alert_and_fade"],"sourceRoot":"src/components/static","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto my-12 \">\n    <div class=\"logoEmpresaLogin shadowHover\">\n      <v-img width=\"100%\" src=\"@/assets/logo.png\"></v-img>\n    </div>\n\n    <v-card :loading=\"loading\" width=\"374\" outlined class=\"cardLogin shadowHover\">\n      <template slot=\"progress\">\n        <v-progress-linear\n          color=\"deep-purple\"\n          height=\"4\"\n          indeterminate\n        ></v-progress-linear>\n      </template>\n\n      <v-card-title class=\"titulo text-center\">Inicio de Sesión</v-card-title>\n\n      <v-card-text>\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\" md=\"12\">\n                <v-text-field\n                  v-model=\"user\"\n                  label=\"Usuario\"\n                  :rules=\"rulesRequired\"\n                  required\n                ></v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\" md=\"12\">\n                <v-text-field\n                  v-model=\"password\"\n                  :rules=\"rulesRequired\"\n                  label=\"Contraseña\"\n                  type=\"password\"\n                  required\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-form>\n      </v-card-text>\n\n      <v-divider class=\"mx-4\"></v-divider>\n\n      <v-card-actions>\n        <v-row>\n          <v-col cols=\"12\" md=\"12\">\n            <v-btn color=\"lighten-2\" text @click=\"login\">\n              Iniciar Sesión\n            </v-btn>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-btn color=\"lighten-2\" text @click=\"recuperarContrasena\">\n              Recuperar <br />\n              Contraseña\n            </v-btn>\n          </v-col>\n          <v-col cols=\"12\" md=\"6\">\n            <v-btn color=\"lighten-2\" text @click=\"recuperarContrasena()\">\n              ¿Desea <br />\n              registrarse?\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-card-actions>\n\n      <v-alert\n        :value=\"alertError\"\n        color=\"error\"\n        dark\n        border=\"top\"\n        icon=\"mdi-error\"\n        transition=\"slide-y-transition\"\n        style=\"z-index:1\"\n      >\n        <div class=\"pt-2 pr-6\">\n          <v-btn color=\"error\" fab x-small @click=\"show_alert_and_fade\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n\n          <br /><br />\n          {{ msgError }}\n        </div>\n      </v-alert>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { login } from \"@/api/\";\n\nexport default {\n  data: () => ({\n    loading: false,\n    valid: true,\n    selection: 1,\n    user: null,\n    password: null,\n    rulesRequired: [(v) => !!v || \"Este campo es obligatorio\"],\n    msgError: \"\",\n    alertError: false,\n  }),\n\n  methods: {\n    recuperarContrasena() {\n      this.$router.push({ path: '/restorePassword'}).catch(()=>{});\n    },\n    login() {\n      const validateForm = this.$refs.form.validate();\n      if (validateForm) {\n        this.loading = true;\n        this.alertError = false;\n        login({\n          email: this.user,\n          password: this.password,\n        })\n          .then(\n            function (response) {\n                localStorage.setItem(\"userTkn\", response.data.accessToken);\n                localStorage.setItem(\"rol\", response.data.roles);\n                this.$router.push({ path: '/'}).catch(()=>{});\n                window.location.reload();\n            }.bind(this)\n          )\n          .catch(\n            function (error) {\n              console.log(error)\n              this.loading = false;\n              this.alertError = true;\n              this.msgError =\n                \"Error al iniciar sesión, credenciales inválidas.\";\n            }.bind(this)\n          );\n      }\n    },\n\n    show_alert_and_fade() {\n      this.alertError = !this.alertError;\n    },\n  },\n};\n</script>\n\n<style>\n.logoEmpresaLogin {\n  position: absolute;\n  width: 374px;\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 90px;\n  z-index: 1;\n}\n\n.cardLogin {\n  margin-top: 200px !important;\n  border: 0 !important;\n  border-radius: 10px !important;\n  padding-top: 200px;\n}\n\n.cardLogin .titulo {\n  display: block !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}