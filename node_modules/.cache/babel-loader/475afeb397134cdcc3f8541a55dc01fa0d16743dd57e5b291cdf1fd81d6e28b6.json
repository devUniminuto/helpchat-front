{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FullBoxVue from \"../components/static/FullBox.vue\";\nimport { getSubServicio, newSubServicio, updateSubServicio } from \"../api\";\nexport default {\n  data() {\n    return {\n      search: \"\",\n      headers: [{\n        text: \"Nombre del subservicio\",\n        value: \"nombre\"\n      }],\n      serviciosDefault: [],\n      idSolicitudSeleccionada: {},\n      infoSolicitudRef: null,\n      showModal: false,\n      newData: \"\"\n    };\n  },\n  components: {\n    FullBoxVue\n  },\n  methods: {\n    consultaServicio() {\n      getSubServicio(this.$route.params.id).then(function (response) {\n        this.preServicios = response.data;\n        this.serviciosDefault = [];\n        for (let i = 0; i < this.preServicios.length; i++) {\n          this.serviciosDefault.push({\n            id: this.preServicios[i].ID_SUBSERVICIO,\n            nombre: this.preServicios[i].NOMBRE_SUBSERVICIO,\n            idServicio: this.preServicios[i].ID_SERVICIO\n          });\n        }\n      }.bind(this));\n    },\n    seleccionarPeticion(option) {\n      this.idSolicitudSeleccionada = option;\n      this.$router.push({\n        path: \"/subservicio/\" + this.idSolicitudSeleccionada.id\n      }).catch(() => {});\n    },\n    saveData() {\n      newSubServicio({\n        nombre: this.newData,\n        idServicio: this.$route.params.id\n      }).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    },\n    save(item) {\n      updateSubServicio(item).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    },\n    cancel() {},\n    open() {},\n    close() {}\n  },\n  mounted() {\n    this.consultaServicio();\n  }\n};","map":{"version":3,"mappings":";AA+EA;AAEA;AAEA;EACAA;IACA;MACAC;MACAC;QAAAC;QAAAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC,2CACA;QACA;QACA;QACA;UACA;YACAC;YACAC;YACAC;UACA;QACA;MACA,aACA;IACA;IAEAC;MACA;MACA,aACAC;QAAAC;MAAA,GACAC;IACA;IAEAC;MACAC;QACAP;QACAC;MACA,QACA;QACAO;MACA,aACA;IACA;IAEAC;MACAC,6BACA;QACAF;MACA,aACA;IACA;IACAG;IACAC;IACAC;EACA;EACAC;IACA;EACA;AACA","names":["data","search","headers","text","value","serviciosDefault","idSolicitudSeleccionada","infoSolicitudRef","showModal","newData","components","FullBoxVue","methods","consultaServicio","getSubServicio","id","nombre","idServicio","seleccionarPeticion","push","path","catch","saveData","newSubServicio","window","save","updateSubServicio","cancel","open","close","mounted"],"sourceRoot":"src/views","sources":["ServicioView.vue"],"sourcesContent":["<template>\n  <FullBoxVue class=\"shadowHover\">\n    <h1>Modificar servicios</h1>\n    <br />\n    <v-btn color=\"primary\" dark @click=\"showModal = true\"\n      >Registrar nuevo subservicio</v-btn\n    >\n\n    <v-dialog v-model=\"showModal\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">Ingrese el nombre del nuevo subservicio</span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-text-field\n            label=\"Nombre de subservicio\"\n            v-model=\"newData\"\n          ></v-text-field>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"showModal = false\"\n            >Cancelar</v-btn\n          >\n          <v-btn color=\"blue darken-1\" text @click=\"saveData\">Guardar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <br /><br />\n    <v-card>\n      <v-card-title>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Buscar\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"serviciosDefault\"\n        :search=\"search\"\n      >\n        <template v-slot:body=\"{ items, headers }\">\n          <tbody>\n            <tr v-for=\"(item, idx, k) in items\" :key=\"idx\">\n              <td v-for=\"(header, key) in headers\" :key=\"key\">\n                <v-edit-dialog\n                  :return-value.sync=\"item[header.value]\"\n                  @save=\"save(item)\"\n                  save-text=\"Guardar\"\n                  @cancel=\"cancel\"\n                  cancel-text=\"Cancelar\"\n                  @open=\"open\"\n                  @close=\"close\"\n                  large\n                >\n                  {{ item[header.value] }}\n                  <template v-slot:input>\n                    <v-text-field\n                      v-model=\"item[header.value]\"\n                      label=\"Nombre solicitud\"\n                      single-line\n                    ></v-text-field>\n                  </template>\n                </v-edit-dialog>\n              </td>\n            </tr>\n          </tbody>\n        </template>\n      </v-data-table>\n    </v-card>\n  </FullBoxVue>\n</template>\n\n<script>\nimport FullBoxVue from \"../components/static/FullBox.vue\";\n\nimport { getSubServicio, newSubServicio, updateSubServicio } from \"../api\";\n\nexport default {\n  data() {\n    return {\n      search: \"\",\n      headers: [{ text: \"Nombre del subservicio\", value: \"nombre\" }],\n      serviciosDefault: [],\n      idSolicitudSeleccionada: {},\n      infoSolicitudRef: null,\n      showModal: false,\n      newData: \"\",\n    };\n  },\n  components: {\n    FullBoxVue,\n  },\n  methods: {\n    consultaServicio() {\n      getSubServicio(this.$route.params.id).then(\n        function (response) {\n          this.preServicios = response.data;\n          this.serviciosDefault = [];\n          for (let i = 0; i < this.preServicios.length; i++) {\n            this.serviciosDefault.push({\n              id: this.preServicios[i].ID_SUBSERVICIO,\n              nombre: this.preServicios[i].NOMBRE_SUBSERVICIO,\n              idServicio: this.preServicios[i].ID_SERVICIO,\n            });\n          }\n        }.bind(this)\n      );\n    },\n\n    seleccionarPeticion(option) {\n      this.idSolicitudSeleccionada = option;\n      this.$router\n        .push({ path: \"/subservicio/\" + this.idSolicitudSeleccionada.id })\n        .catch(() => {});\n    },\n\n    saveData() {\n      newSubServicio({\n        nombre: this.newData,\n        idServicio: this.$route.params.id\n      }).then(\n        function (response) {\n          window.location.reload();\n        }.bind(this)\n      );\n    },\n\n    save(item) {\n      updateSubServicio(item).then(\n        function (response) {\n          window.location.reload();\n        }.bind(this)\n      );\n    },\n    cancel() {},\n    open() {},\n    close() {},\n  },\n  mounted() {\n    this.consultaServicio();\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}