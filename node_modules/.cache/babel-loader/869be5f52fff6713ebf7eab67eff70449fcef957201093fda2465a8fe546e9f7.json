{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FullBoxVue from \"../components/static/FullBox.vue\";\nimport MiddleBox from \"@/components/static/MiddleBox.vue\";\nimport searchUserMultipleVue from \"../components/searchUserMultiple.vue\";\nimport { getSpecificUser, updateSpecificUser, getServicio, getClientes, habilitarUsuario } from \"@/api\";\nexport default {\n  data() {\n    return {\n      infoSolicitud: {},\n      infoSolicitudCandidatos: {},\n      componentKey: 1,\n      estados: null,\n      idSolicitud: this.$route.params.id,\n      archivosSubidos: [],\n      Images: null,\n      valido: false,\n      userSearchSelected: [],\n      userSearch: [],\n      menu: false,\n      serviciosDefault: []\n    };\n  },\n  components: {\n    FullBoxVue,\n    MiddleBox,\n    searchUserMultipleVue\n  },\n  methods: {\n    userSearchSelectedFunc(values) {\n      this.infoSolicitud.userSearchSelected = values;\n    },\n    realizarConsulta() {\n      getSpecificUser(this.idSolicitud).then(function (response) {\n        // if((response.data[0].rol != 8 || response.data[0].rol != 2) && (this.$dataUser[0].idRol == 8 || this.$dataUser[0].empresa == response.data[0].empresa)){\n        this.infoSolicitud = response.data[0];\n        this.componentKey += 1;\n      }.bind(this));\n    },\n    actualizarUsuario() {\n      updateSpecificUser(this.infoSolicitud).then(function (response) {}.bind(this));\n    },\n    consultaServicio() {\n      getServicio().then(function (response) {\n        this.preServicios = response.data;\n        this.serviciosDefault = [];\n        for (let i = 0; i < this.preServicios.length; i++) {\n          this.serviciosDefault.push({\n            id: this.preServicios[i].ID_SERVICIO,\n            nombre: this.preServicios[i].NOMBRE_SERVICIO\n          });\n        }\n      }.bind(this));\n    },\n    habilitarUsuario() {\n      habilitarUsuario({\n        'idUsuario': this.infoSolicitud.cod_cliente\n      }).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    }\n  },\n  mounted() {\n    getClientes().then(function (response) {\n      this.userSearch = response.data;\n    }.bind(this));\n    this.realizarConsulta();\n    this.consultaServicio();\n  },\n  watch: {\n    infoSolicitud(newState) {\n      if (newState != {}) {\n        this.valido = true;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAwHA;AACA;AACA;AAEA,SACAA,iBACAC,oBACAC,aACAC,aACAC,wBACA;AAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;IACAC;IACAC;EACA;EAEAC;IACAC;MACA;IACA;IACAC;MACAxB,uCACA;QAEA;QACA;QAEA;MACA,aACA;IACA;IACAyB;MACAxB,4CACA,kCACA;IACA;IACAyB;MACAxB,mBACA;QACA;QACA;QACA;UACA;YACAyB;YACAC;UACA;QACA;MACA,aACA;IACA;IACAxB;MACAA;QAAA;MAAA,QACA;QACAyB;MACA,aACA;IACA;EACA;EAEAC;IACA3B,mBACA;MACA;IACA,aACA;IACA;IACA;EACA;EAEA4B;IACAzB;MACA;QACA;MACA;IACA;EACA;AACA","names":["getSpecificUser","updateSpecificUser","getServicio","getClientes","habilitarUsuario","data","infoSolicitud","infoSolicitudCandidatos","componentKey","estados","idSolicitud","archivosSubidos","Images","valido","userSearchSelected","userSearch","menu","serviciosDefault","components","FullBoxVue","MiddleBox","searchUserMultipleVue","methods","userSearchSelectedFunc","realizarConsulta","actualizarUsuario","consultaServicio","id","nombre","window","mounted","watch"],"sourceRoot":"src/views","sources":["UsuarioView.vue"],"sourcesContent":["<template>\n  <div :key=\"componentKey\" v-if=\"valido && $dataUser[0].idRol == 3 || $dataUser[0].idRol == 8\">\n\n    <FullBoxVue class=\"shadowHover\">\n      <h1>Usuario {{ infoSolicitud.nombre }}</h1>\n    </FullBoxVue>\n    <FullBoxVue class=\"shadowHover\">\n      <v-form>\n        <p>\n          Estado actual usuario: <span :class=\"infoSolicitud.estado=='Habilitado' ? 'primary--text' : 'error--text'\">{{ infoSolicitud.estado }}</span>\n        </p>\n        <v-btn :color=\"infoSolicitud.estado=='Habilitado' ? 'error' : 'primary'\" @click=\"habilitarUsuario()\">\n          {{infoSolicitud.estado=='Habilitado' ? 'deshabilitar' : 'Habilitar'}} usuario\n        </v-btn>\n        <v-container>\n          <v-row>\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.cod_cliente\"\n                label=\"Código de cliente\"\n                readonly\n                filled\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.nombre\"\n                label=\"Nombre\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.correo\"\n                label=\"Correo\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.contacto\"\n                label=\"Contacto\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n              v-if=\"infoSolicitud.rol==8 || infoSolicitud.rol==2\"\n                v-model=\"infoSolicitud.infoEmpresa.razonsocial\"\n                label=\"Empresa\"\n              ></v-text-field>\n            </v-col>\n\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.tipo_documento\"\n                label=\"Tipo de documento\"\n                readonly\n                filled\n              ></v-text-field>\n            </v-col>\n\n            <v-col cols=\"12\" sm=\"12\">\n              <v-text-field\n                v-model=\"infoSolicitud.documento\"\n                label=\"Número de documento\"\n              ></v-text-field>\n            </v-col>\n\n            <v-select\n              v-if=\"infoSolicitud.rol == '7' || infoSolicitud.rol == '5' || infoSolicitud.rol == '6'\"\n              v-model=\"infoSolicitud.serviciosAsociados\"\n              :items=\"serviciosDefault\"\n              item-text=\"nombre\"\n              item-value=\"id\"\n              label=\"Servicios disponibles\"\n              multiple\n            ></v-select>\n\n            <!-- <v-menu\n              ref=\"menu\"\n              v-model=\"menu\"\n              :close-on-content-click=\"false\"\n              :return-value.sync=\"infoSolicitud.fechaCorte\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"auto\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-combobox\n                  v-model=\"infoSolicitud.fechaCorte\"\n                  chips\n                  small-chips\n                  label=\"Fecha de corte\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                ></v-combobox>\n              </template>\n              <v-date-picker\n                v-model=\"infoSolicitud.fechaCorte\"\n                no-title\n                scrollable\n              >\n                <v-spacer></v-spacer>\n                <v-btn text color=\"primary\" @click=\"menu = false\">\n                  Cancelar\n                </v-btn>\n                <v-btn text color=\"primary\" @click=\"$refs.menu.save(dates)\">\n                  OK\n                </v-btn>\n              </v-date-picker>\n            </v-menu> -->\n          </v-row>\n        </v-container>\n        <v-btn color=\"primary\" @click=\"actualizarUsuario\"> Actualizar </v-btn>\n      </v-form>\n    </FullBoxVue>\n  </div>\n</template>\n\n<script>\nimport FullBoxVue from \"../components/static/FullBox.vue\";\nimport MiddleBox from \"@/components/static/MiddleBox.vue\";\nimport searchUserMultipleVue from \"../components/searchUserMultiple.vue\";\n\nimport {\n  getSpecificUser,\n  updateSpecificUser,\n  getServicio,\n  getClientes,\n  habilitarUsuario\n} from \"@/api\";\n\nexport default {\n  data() {\n    return {\n      infoSolicitud: {},\n      infoSolicitudCandidatos: {},\n      componentKey: 1,\n      estados: null,\n      idSolicitud: this.$route.params.id,\n      archivosSubidos: [],\n      Images: null,\n      valido: false,\n      userSearchSelected: [],\n      userSearch: [],\n      menu: false,\n      serviciosDefault: [],\n    };\n  },\n\n  components: {\n    FullBoxVue,\n    MiddleBox,\n    searchUserMultipleVue,\n  },\n\n  methods: {\n    userSearchSelectedFunc(values) {\n      this.infoSolicitud.userSearchSelected = values;\n    },\n    realizarConsulta() {\n      getSpecificUser(this.idSolicitud).then(\n        function (response) {\n\n          // if((response.data[0].rol != 8 || response.data[0].rol != 2) && (this.$dataUser[0].idRol == 8 || this.$dataUser[0].empresa == response.data[0].empresa)){\n            this.infoSolicitud = response.data[0];\n\n          this.componentKey += 1;\n        }.bind(this)\n      );\n    },\n    actualizarUsuario() {\n      updateSpecificUser(this.infoSolicitud).then(\n        function (response) {}.bind(this)\n      );\n    },\n    consultaServicio() {\n      getServicio().then(\n        function (response) {\n          this.preServicios = response.data;\n          this.serviciosDefault = [];\n          for (let i = 0; i < this.preServicios.length; i++) {\n            this.serviciosDefault.push({\n              id: this.preServicios[i].ID_SERVICIO,\n              nombre: this.preServicios[i].NOMBRE_SERVICIO,\n            });\n          }\n        }.bind(this)\n      );\n    },\n    habilitarUsuario(){\n      habilitarUsuario({'idUsuario':this.infoSolicitud.cod_cliente}).then(\n        function (response){\n          window.location.reload();\n        }.bind(this)\n      )\n    }\n  },\n\n  mounted() {\n    getClientes().then(\n      function (response) {\n        this.userSearch = response.data;\n      }.bind(this)\n    );\n    this.realizarConsulta();\n    this.consultaServicio();\n  },\n\n  watch: {\n    infoSolicitud(newState) {\n      if (newState != {}) {\n        this.valido = true;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.archivo {\n  min-width: 150px;\n  min-height: 170px;\n}\n\n.archivo:hover {\n  background: #385da6;\n  color: #fff;\n}\n\n.archivo:hover > div > i {\n  color: #fff;\n}\n.archivo:hover > div {\n  cursor: pointer;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}