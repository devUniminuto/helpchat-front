{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FullBoxVue from \"../components/static/FullBox.vue\";\nimport { getServicio, newServicio, updateServicio, getServicioDeshabilitados, habilitarServicio } from \"../api\";\nexport default {\n  data() {\n    return {\n      search: \"\",\n      headers: [{\n        text: \"Nombre del servicio\",\n        value: \"nombre\"\n      }],\n      serviciosDefault: [],\n      serviciosDeshabilitadosDefault: [],\n      idSolicitudSeleccionada: {},\n      infoSolicitudRef: null,\n      showModal: false,\n      costo: \"\",\n      documentosRequeridos: \"\",\n      documentosRequeridosPre: \"\",\n      newData: \"\"\n    };\n  },\n  components: {\n    FullBoxVue\n  },\n  methods: {\n    consultaServicio() {\n      getServicio().then(function (response) {\n        this.preServicios = response.data;\n        this.serviciosDefault = [];\n        for (let i = 0; i < this.preServicios.length; i++) {\n          this.serviciosDefault.push({\n            id: this.preServicios[i].ID_SERVICIO,\n            nombre: this.preServicios[i].NOMBRE_SERVICIO,\n            documentos_requeridos: this.preServicios[i].DOCUMENTOS_REQUERIDOS.replace(/<br>/g, \"\\n\")\n          });\n        }\n      }.bind(this));\n    },\n    consultaServicioDeshabilitado() {\n      getServicioDeshabilitados().then(function (response) {\n        this.preServicios = response.data;\n        this.serviciosDeshabilitadosDefault = [];\n        for (let i = 0; i < this.preServicios.length; i++) {\n          this.serviciosDeshabilitadosDefault.push({\n            id: this.preServicios[i].ID_SERVICIO,\n            nombre: this.preServicios[i].NOMBRE_SERVICIO,\n            documentos_requeridos: this.preServicios[i].DOCUMENTOS_REQUERIDOS.replace(/<br>/g, \"\\n\")\n          });\n        }\n      }.bind(this));\n    },\n    seleccionarPeticion(option) {\n      this.idSolicitudSeleccionada = option;\n      this.$router.push({\n        path: \"/servicio/\" + this.idSolicitudSeleccionada.id\n      }).catch(() => {});\n    },\n    habilitarServicio(item) {\n      habilitarServicio({\n        'idServicio': item.id\n      }).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    },\n    saveData() {\n      newServicio({\n        nombre: this.newData\n      }).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    },\n    updateText(item) {\n      item.documentos_requeridos = item.documentos_requeridos.replace(/\\n/g, \"<br>\");\n    },\n    save(item) {\n      item.documentos_requeridos = item.documentos_requeridos.replace(/<br>/g, \"\\n\");\n      updateServicio(item).then(function (response) {\n        window.location.reload();\n      }.bind(this));\n    },\n    cancel() {},\n    open() {},\n    close() {}\n  },\n  mounted() {\n    this.consultaServicio();\n    this.consultaServicioDeshabilitado();\n  }\n};","map":{"version":3,"mappings":";AA6JA;AAEA,SACAA,aACAC,aACAC,gBACAC,2BACAC,yBACA;AAEA;EACAC;IACA;MACAC;MACAC;QAAAC;QAAAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAC;MACAtB,mBACA;QACA;QACA;QACA;UACA;YACAuB;YACAC;YACAC,yCACAC,EACA;UACA;QACA;MACA,aACA;IACA;IAEAC;MACAxB,iCACA;QACA;QACA;QACA;UACA;YACAoB;YACAC;YACAC,yCACAC,EACA;UACA;QACA;MACA,aACA;IACA;IAEAE;MACA;MACA,aACAC;QAAAC;MAAA,GACAC;IACA;IAEA3B;MACAA;QAAA;MAAA,QACA;QACA4B;MACA,aACA;IACA;IAEAC;MACAhC;QACAuB;MACA,QACA;QACAQ;MACA,aACA;IACA;IAEAE;MACAC,gEACA,OACA,OACA;IACA;IAEAC;MACAD,gEACA,SACA,KACA;MACAjC,0BACA;QACA8B;MACA,aACA;IACA;IACAK;IACAC;IACAC;EACA;EACAC;IACA;IACA;EACA;AACA","names":["getServicio","newServicio","updateServicio","getServicioDeshabilitados","habilitarServicio","data","search","headers","text","value","serviciosDefault","serviciosDeshabilitadosDefault","idSolicitudSeleccionada","infoSolicitudRef","showModal","costo","documentosRequeridos","documentosRequeridosPre","newData","components","FullBoxVue","methods","consultaServicio","id","nombre","documentos_requeridos","i","consultaServicioDeshabilitado","seleccionarPeticion","push","path","catch","window","saveData","updateText","item","save","cancel","open","close","mounted"],"sourceRoot":"src/views","sources":["modificarServiciosView.vue"],"sourcesContent":["<template>\n  <div>\n    <FullBoxVue class=\"shadowHover\">\n      <h1>Modificar servicios</h1>\n      <br />\n      <v-btn color=\"primary\" dark @click=\"showModal = true\"\n        >Registrar nuevo servicio</v-btn\n      >\n\n      <v-dialog v-model=\"showModal\" max-width=\"500px\">\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">Ingrese el nombre del nuevo servicio</span>\n          </v-card-title>\n\n          <v-card-text>\n            <v-text-field\n              label=\"Nombre de servicio\"\n              v-model=\"newData\"\n            ></v-text-field>\n          </v-card-text>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" text @click=\"showModal = false\"\n              >Cancelar</v-btn\n            >\n            <v-btn color=\"blue darken-1\" text @click=\"saveData\">Guardar</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <br /><br />\n      <v-card>\n        <v-card-title>\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Buscar\"\n            single-line\n            hide-details\n          ></v-text-field>\n        </v-card-title>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"serviciosDefault\"\n          :search=\"search\"\n        >\n          <template v-slot:body=\"{ items, headers }\">\n            <tbody>\n              <tr v-for=\"(item, idx, k) in items\" :key=\"idx\">\n                <td v-for=\"(header, key) in headers\" :key=\"key\">\n                  <v-edit-dialog\n                    :return-value.sync=\"item[header.value]\"\n                    @save=\"save(item)\"\n                    save-text=\"Guardar\"\n                    @cancel=\"cancel\"\n                    cancel-text=\"Cancelar\"\n                    @open=\"open\"\n                    @close=\"close\"\n                    large\n                  >\n                    {{ item[header.value] }}\n                    <template v-slot:input>\n                      <v-text-field\n                        v-model=\"item[header.value]\"\n                        label=\"Nombre solicitud\"\n                        single-line\n                      ></v-text-field>\n                      <v-textarea\n                        v-model=\"item.documentos_requeridos\"\n                        label=\"Documentos Requeridos para el candidato\"\n                      ></v-textarea>\n                      <v-btn :color=\"'error'\" @click=\"habilitarServicio(item)\">\n                        Deshabilitar servicio\n                      </v-btn>\n                      <br><br>\n                      <v-btn\n                        color=\"primary\"\n                        outlined\n                        @click=\"seleccionarPeticion(item)\"\n                        >Mirar subservicios</v-btn\n                      >\n                    </template>\n                  </v-edit-dialog>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n      </v-card>\n    </FullBoxVue>\n    <FullBoxVue class=\"shadowHover\">\n      <h1>Servicios deshabilitados</h1>\n      <br /><br />\n      <v-card>\n        <v-card-title>\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Buscar\"\n            single-line\n            hide-details\n          ></v-text-field>\n        </v-card-title>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"serviciosDeshabilitadosDefault\"\n          :search=\"search\"\n        >\n          <template v-slot:body=\"{ items, headers }\">\n            <tbody>\n              <tr v-for=\"(item, idx, k) in items\" :key=\"idx\">\n                <td v-for=\"(header, key) in headers\" :key=\"key\">\n                  <v-edit-dialog\n                    :return-value.sync=\"item[header.value]\"\n                    @save=\"save(item)\"\n                    save-text=\"Guardar\"\n                    @cancel=\"cancel\"\n                    cancel-text=\"Cancelar\"\n                    @open=\"open\"\n                    @close=\"close\"\n                    large\n                  >\n                    {{ item[header.value] }}\n                    <template v-slot:input>\n                      <v-text-field\n                        v-model=\"item[header.value]\"\n                        label=\"Nombre solicitud\"\n                        single-line\n                      ></v-text-field>\n                      <v-textarea\n                        v-model=\"item.documentos_requeridos\"\n                        label=\"Documentos Requeridos para el candidato\"\n                      ></v-textarea>\n                      <v-btn :color=\"'primary'\" @click=\"habilitarServicio(item)\">\n                        Habilitar servicio\n                      </v-btn>\n                      <br><br>\n                      <v-btn\n                        color=\"primary\"\n                        outlined\n                        @click=\"seleccionarPeticion(item)\"\n                        >Mirar subservicios</v-btn\n                      >\n                    </template>\n                  </v-edit-dialog>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n      </v-card>\n    </FullBoxVue>\n  </div>\n</template>\n\n<script>\nimport FullBoxVue from \"../components/static/FullBox.vue\";\n\nimport {\n  getServicio,\n  newServicio,\n  updateServicio,\n  getServicioDeshabilitados,\n  habilitarServicio\n} from \"../api\";\n\nexport default {\n  data() {\n    return {\n      search: \"\",\n      headers: [{ text: \"Nombre del servicio\", value: \"nombre\" }],\n      serviciosDefault: [],\n      serviciosDeshabilitadosDefault: [],\n      idSolicitudSeleccionada: {},\n      infoSolicitudRef: null,\n      showModal: false,\n      costo: \"\",\n      documentosRequeridos: \"\",\n      documentosRequeridosPre: \"\",\n      newData: \"\",\n    };\n  },\n  components: {\n    FullBoxVue,\n  },\n  methods: {\n    consultaServicio() {\n      getServicio().then(\n        function (response) {\n          this.preServicios = response.data;\n          this.serviciosDefault = [];\n          for (let i = 0; i < this.preServicios.length; i++) {\n            this.serviciosDefault.push({\n              id: this.preServicios[i].ID_SERVICIO,\n              nombre: this.preServicios[i].NOMBRE_SERVICIO,\n              documentos_requeridos: this.preServicios[\n                i\n              ].DOCUMENTOS_REQUERIDOS.replace(/<br>/g, \"\\n\"),\n            });\n          }\n        }.bind(this)\n      );\n    },\n\n    consultaServicioDeshabilitado() {\n      getServicioDeshabilitados().then(\n        function (response) {\n          this.preServicios = response.data;\n          this.serviciosDeshabilitadosDefault = [];\n          for (let i = 0; i < this.preServicios.length; i++) {\n            this.serviciosDeshabilitadosDefault.push({\n              id: this.preServicios[i].ID_SERVICIO,\n              nombre: this.preServicios[i].NOMBRE_SERVICIO,\n              documentos_requeridos: this.preServicios[\n                i\n              ].DOCUMENTOS_REQUERIDOS.replace(/<br>/g, \"\\n\"),\n            });\n          }\n        }.bind(this)\n      );\n    },\n\n    seleccionarPeticion(option) {\n      this.idSolicitudSeleccionada = option;\n      this.$router\n        .push({ path: \"/servicio/\" + this.idSolicitudSeleccionada.id })\n        .catch(() => {});\n    },\n\n    habilitarServicio(item){\n      habilitarServicio({'idServicio':item.id}).then(\n        function (response){\n          window.location.reload();\n        }.bind(this)\n      )\n    },\n\n    saveData() {\n      newServicio({\n        nombre: this.newData,\n      }).then(\n        function (response) {\n          window.location.reload();\n        }.bind(this)\n      );\n    },\n\n    updateText(item) {\n      item.documentos_requeridos = item.documentos_requeridos.replace(\n        /\\n/g,\n        \"<br>\"\n      );\n    },\n\n    save(item) {\n      item.documentos_requeridos = item.documentos_requeridos.replace(\n        /<br>/g,\n        \"\\n\"\n      );\n      updateServicio(item).then(\n        function (response) {\n          window.location.reload();\n        }.bind(this)\n      );\n    },\n    cancel() {},\n    open() {},\n    close() {},\n  },\n  mounted() {\n    this.consultaServicio();\n    this.consultaServicioDeshabilitado();\n  },\n};\n</script>\n\n<style scoped>\ndiv {\n  width: 100%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}